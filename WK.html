<header>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
</header>

<title>秘密文库</title>

<div class="container">
  <h1 style="text-align: center;">神奇的生成工具</h1>
  <div class="row">
    <input
      id="urlLabel"
      class="form-control"
      placeholder="输入神秘代码...."
      type="text"
      style="text-align: center;"
    />
  </div>
</br>
  <div class="row">
    <div style="text-align: center;">
      <label id="tipLabel" hidden>正在生成文件.....</label>
      <button
        id="subBtn"
        type="button"
        class="btn btn-lg btn-success"
        onclick="subClick()"
        style="width: 30%;"
      >
        提交
      </button>
    </div>
  </div>
</div>

<script>
  function subClick() {
    var enterUrl = $("#urlLabel").val();
    $("#subBtn").hide();
    $("#tipLabel").show();
    $.get(
      "http://api-cook.jiemogancuimian.com:8991/getDoc",
      { url: enterUrl },
      function(data) {
        if (data == "") {
          alert("生成文档出错");
        } else {
          open(data);
        }
        $("#subBtn").show();
        $("#tipLabel").hide();
      }
    );
  }
</script>
